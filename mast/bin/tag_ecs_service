#!/usr/bin/perl

$| = 1;
use v5.030;
use warnings;

use Getopt::Long;
use Mast::Deploy::Step;

my ($service_spec_json, @tags);

GetOptions(
  'service-spec-json=s' => \$service_spec_json,
  'tags=s@' => \@tags,
)
  or die "Error in command line arguments\n";

say "Service spec: $service_spec_json";
say "Tags: ", join " ", @tags;

my %tag_key_value = map { split /=/ } @tags;

tag_ecs_service(
  environment => "placeholder", 
  service_spec_json => $service_spec_json,
  tags => \%tag_key_value,
);
